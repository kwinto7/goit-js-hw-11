{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst loaderStyles = document.createElement(\"style\");\nloaderStyles.textContent = `\n .loader {\n  color: #FFF;\n  display: inline-block;\n  position: relative;\n  font-size: 48px;\n  font-family: Arial, Helvetica, sans-serif;\n  box-sizing: border-box;\n}\n.loader::after {\n  content: '';  \n  width: 5px;\n  height: 5px;\n  background: currentColor;\n  position: absolute;\n  bottom: 10px;\n  right: -5px;\n  box-sizing: border-box;\n  animation: animloader 1s linear infinite;\n}\n.hidden {\ndisplay: none;\n}\n\n@keyframes animloader {\n  0% {\n    box-shadow: 10px 0 rgba(255, 255, 255, 0), 20px 0 rgba(255, 255, 255, 0);\n  }\n  50% {\n    box-shadow: 10px 0 white, 20px 0 rgba(255, 255, 255, 0);\n  }\n  100% {\n    box-shadow: 10px 0 white, 20px 0 white;\n  }\n}\n`;\ndocument.head.appendChild(loaderStyles);\n\nexport function createGallery(images) { \n  return images.map(({ webformatURL, tags, likes, views, comments, downloads, largeImageURL }) => `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n      </a>\n      <div class=\"item-description-wrap\">\n        <div class=\"description-item\">\n          <h3 class=\"item-title\">Likes</h3>\n          <p class=\"item-text\">${likes}</p>\n        </div>\n        <div class=\"description-item\">\n          <h3 class=\"item-title\">Views</h3>\n          <p class=\"item-text\">${views}</p>\n        </div>\n        <div class=\"description-item\">\n          <h3 class=\"item-title\">Comments</h3>\n          <p class=\"item-text\">${comments}</p>\n        </div>\n        <div class=\"description-item\">\n          <h3 class=\"item-title\">Downloads</h3>\n          <p class=\"item-text\">${downloads}</p>\n        </div>\n      </div>\n    </li>\n  `).join(\"\");\n}\n\nexport function showLoader() { \n  loader.classList.remove(\"hidden\");\n  loader.style.position = \"fixed\";\n  loader.style.top = \"50%\";\n  loader.style.left = \"50%\";\n  loader.style.transform = \"translate(-50%, -50%)\";\n  loader.style.zIndex = \"9999\";\n  loader.style.backgroundColor = \"rgba(0, 0, 0, 0.2)\";\n  loader.style.padding = \"20px\";\n  loader.style.borderRadius = \"50%\";\n}\n\nexport function hideLoader() { \n  loader.classList.add(\"hidden\");\n}\n\nlet lightbox = null;\n\nexport function renderGallery(images) { \n  const markup = createGallery(images);\n  gallery.insertAdjacentHTML(\"beforeend\", markup);\n    if (lightbox) {\n    lightbox.refresh()\n    } else { \n      lightbox = new SimpleLightbox(\".gallery a\", {\n        captionData: \"alt\",\n        captionDelay: 250,\n      });\n    }\n}\n\n\nexport function updateLightBox() { \n  if (lightbox) {\n    lightbox.refresh()\n  } else { \n    lightbox = new SimpleLightbox(\".gallery a\", {\n      captionData: \"alt\",\n      captionDelay: 250,\n    });\n  }\n}\n\nexport function clearGallery() { \n  gallery.innerHTML = \"\";\n}\n\n","import axios from \"axios\";\nimport { showLoader, hideLoader, createGallery, updateLightBox } from \"./render-functions\";\n\nconst API_KEY = \"51435495-8626d86cd8f20f3f9ed789055\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nconst gallery = document.querySelector(\".gallery\");\n\nexport function getImagesByQuery(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\"\n  };\n\n  showLoader();\n\n  return axios\n    .get(BASE_URL, { params })\n    .then(response => response.data)\n    .catch(error => {\n      console.error(\"Fetch error\", error);\n      throw error;\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}","\n\nimport { getImagesByQuery } from \"./js/pixabay-api\"\nimport {\n  clearGallery,\n  renderGallery\n} from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst body = document.querySelector(\"body\");\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\".form input\");\nconst button = document.querySelector(\".form button\");\nconst gallery = document.querySelector(\".gallery\");\n\n\n\nform.addEventListener(\"submit\", handleSubmit) \n\nfunction handleSubmit(event) { \n  event.preventDefault();\n\n  const inputUserText = input.value.trim()\n  if (!inputUserText) {\n    iziToast.warning({\n    title: '',\n    message: 'Порожній запит!',\n    position: 'topRight',\n    timeout: 3000,\n  });\n    return;\n  }\n\n  clearGallery();\n\n  getImagesByQuery(inputUserText)\n    .then(data => { \n      if (!data.hits || data.hits.length === 0) {\n        iziToast.error({\n          title: \"\",\n          message: \"Зображення не знайдені. Спробуйте інший запит.\",\n          position: \"topRight\",\n          timeout: 4000,\n          close: false,\n          maxWidth: 300,\n          messageColor: \"#fff\",\n          color: \"#e23232\"\n        });\n        return;\n      }\n\n      renderGallery(data.hits);\n    })\n    .catch(error => {\n      iziToast.error({\n        title: \"\",\n        message: \"Помилка запиту. Спробуйте пізніше.\",\n        position: \"topRight\",\n        timeout: 4000,\n      });\n    })\n    .finally(() => {\n      input.value = \"\";\n    });\n}\n\n\n\n\n\n\n"],"names":["gallery","loader","loaderStyles","createGallery","images","webformatURL","tags","likes","views","comments","downloads","largeImageURL","showLoader","hideLoader","lightbox","renderGallery","markup","SimpleLightbox","clearGallery","API_KEY","BASE_URL","getImagesByQuery","query","params","axios","response","error","form","input","handleSubmit","event","inputUserText","iziToast","data"],"mappings":"owBAIA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAe,SAAS,cAAc,OAAO,EACnDA,EAAa,YAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAoC3B,SAAS,KAAK,YAAYA,CAAY,EAE/B,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,cAAAC,CAAe,IAAK;AAAA;AAAA,sCAE5DA,CAAa;AAAA,wCACXN,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iCAKjCC,CAAK;AAAA;AAAA;AAAA;AAAA,iCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,GAIvC,EAAE,KAAK,EAAE,CACZ,CAEO,SAASE,GAAa,CAC3BX,EAAO,UAAU,OAAO,QAAQ,EAChCA,EAAO,MAAM,SAAW,QACxBA,EAAO,MAAM,IAAM,MACnBA,EAAO,MAAM,KAAO,MACpBA,EAAO,MAAM,UAAY,wBACzBA,EAAO,MAAM,OAAS,OACtBA,EAAO,MAAM,gBAAkB,qBAC/BA,EAAO,MAAM,QAAU,OACvBA,EAAO,MAAM,aAAe,KAC9B,CAEO,SAASY,GAAa,CAC3BZ,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEA,IAAIa,EAAW,KAER,SAASC,EAAcX,EAAQ,CACpC,MAAMY,EAASb,EAAcC,CAAM,EACnCJ,EAAQ,mBAAmB,YAAagB,CAAM,EACxCF,EACJA,EAAS,QAAS,EAEhBA,EAAW,IAAIG,EAAe,aAAc,CAC1C,YAAa,MACb,aAAc,GACtB,CAAO,CAEP,CAcO,SAASC,GAAe,CAC7BlB,EAAQ,UAAY,EACtB,CCpHA,MAAMmB,EAAU,qCACVC,EAAW,2BAED,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,EAEE,OAAAV,IAEOY,EACJ,IAAIJ,EAAU,CAAE,OAAAG,EAAQ,EACxB,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,cAAQ,MAAM,cAAeA,CAAK,EAC5BA,CACZ,CAAK,EACA,QAAQ,IAAM,CACbb,GACN,CAAK,CACL,CClBa,SAAS,cAAc,MAAM,EAC1C,MAAMc,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,aAAa,EACnC,SAAS,cAAc,cAAc,EACpC,SAAS,cAAc,UAAU,EAIjDD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAgBH,EAAM,MAAM,KAAM,EACxC,GAAI,CAACG,EAAe,CAClBC,EAAS,QAAQ,CACjB,MAAO,GACP,QAAS,kBACT,SAAU,WACV,QAAS,GACb,CAAG,EACC,MACD,CAEDd,IAEAG,EAAiBU,CAAa,EAC3B,KAAKE,GAAQ,CACZ,GAAI,CAACA,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACxCD,EAAS,MAAM,CACb,MAAO,GACP,QAAS,iDACT,SAAU,WACV,QAAS,IACT,MAAO,GACP,SAAU,IACV,aAAc,OACd,MAAO,SACjB,CAAS,EACD,MACD,CAEDjB,EAAckB,EAAK,IAAI,CAC7B,CAAK,EACA,MAAMP,GAAS,CACdM,EAAS,MAAM,CACb,MAAO,GACP,QAAS,qCACT,SAAU,WACV,QAAS,GACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbJ,EAAM,MAAQ,EACpB,CAAK,CACL"}