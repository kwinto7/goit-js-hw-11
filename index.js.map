{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\n\nexport function createGallery(images) { \n  return images.map(({ previewURL, tags, likes, views, comments, downloads, largeImageURL }) => `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img src=\"${previewURL}\" alt=\"${tags}\" width=\"300\"/>\n      </a>\n      <p>Likes: ${likes}</p>\n      <p>Views: ${views}</p>\n      <p>Comments: ${comments}</p>\n      <p>Downloads: ${downloads}</p>\n    </li>\n  `).join(\"\");\n}\n\nexport function showLoader() { \n  loader.classList.remove(\"hidden\");\n  loader.style.position = \"fixed\";\n  loader.style.top = \"50%\";\n  loader.style.left = \"50%\";\n  loader.style.transform = \"translate(-50%, -50%)\";\n  loader.style.zIndex = \"9999\";\n  loader.style.backgroundColor = \"rgba(0, 0, 0, 0.2)\";\n  loader.style.padding = \"20px\";\n  loader.style.borderRadius = \"50%\";\n}\n\nexport function hideLoader() { \n  loader.classList.add(\"hidden\");\n}\n\nlet lightbox = null;\n\nexport function updateLightBox() { \n  if (lightbox) {\n    lightbox.refresh()\n  } else { \n    lightbox = new SimpleLightbox(\".gallery a\", {\n      captionData: \"alt\",\n      captionDelay: 250,\n    });\n  }\n}\n\nexport function clearGallery() { \n  gallery.innerHTML = \"\";\n}\n\n","import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { showLoader, hideLoader, createGallery, updateLightBox } from \"./render-functions\";\n\nconst API_KEY = \"51435495-8626d86cd8f20f3f9ed789055\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nconst gallery = document.querySelector(\".gallery\");\n\nexport function getImagesByQuery(query) { \n  showLoader();\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\"\n  };\n  return axios\n    .get(BASE_URL, {params})\n    .then(({data}) => { \n      if (!data.hits || data.hits.length === 0) {\n        iziToast.error({\n          title: \"\",\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\",\n          timeout: 4000\n        });\n        return;\n      }\n      \n      gallery.insertAdjacentHTML(\"beforeend\", createGallery(data.hits))\n      updateLightBox()\n    })\n    .catch(error => { \n      console.log(error);\n    })\n    .finally(() => { \n      hideLoader()\n    })\n}\n","\n\nimport { getImagesByQuery } from \"./js/pixabay-api\"\nimport { clearGallery } from \"./js/render-functions\";\n\n\nconst loader = document.createElement(\"div\");\nloader.id = \"loader\";\nloader.classList = \"hidden\";\ndocument.body.appendChild(loader);\n\nconst loaderStyles = document.createElement(\"style\");\nloaderStyles.textContent = `\n  #loader {\n        width: 48px;\n        height: 48px;\n        border-radius: 50%;\n        position: relative;\n        animation: rotate 1s linear infinite\n      }\n      #loader::before , #loader::after {\n        content: \"\";\n        box-sizing: border-box;\n        position: absolute;\n        inset: 0px;\n        border-radius: 50%;\n        border: 5px solid #FFF;\n        animation: prixClipFix 2s linear infinite ;\n      }\n      #loader::after{\n        border-color: #FF3D00;\n        animation: prixClipFix 2s linear infinite , rotate 0.5s linear infinite reverse;\n        inset: 6px;\n      }\n      \n      .hidden{\n        display: none;\n      }\n\n      @keyframes rotate {\n        0%   {transform: rotate(0deg)}\n        100%   {transform: rotate(360deg)}\n      }\n\n      @keyframes prixClipFix {\n          0%   {clip-path:polygon(50% 50%,0 0,0 0,0 0,0 0,0 0)}\n          25%  {clip-path:polygon(50% 50%,0 0,100% 0,100% 0,100% 0,100% 0)}\n          50%  {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,100% 100%,100% 100%)}\n          75%  {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 100%)}\n          100% {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 0)}\n      }\n`;\ndocument.head.appendChild(loaderStyles);\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\".form input\");\n\nform.addEventListener(\"submit\", handleSubmit) \n\nfunction handleSubmit(event) { \n  event.preventDefault();\n  const input_user_text = input.value.trim()\n  if (!input_user_text) {\n    alert(\"Порожній запит\");\n    hideLoader();\n    return;\n  }\n  clearGallery();\n  input.value = \"\";\n  getImagesByQuery(input_user_text);\n}\n\n\n\n\n"],"names":["gallery","createGallery","images","previewURL","tags","likes","views","comments","downloads","largeImageURL","showLoader","hideLoader","lightbox","updateLightBox","SimpleLightbox","clearGallery","API_KEY","BASE_URL","getImagesByQuery","query","params","axios","data","iziToast","error","loader","loaderStyles","form","input","handleSubmit","event","input_user_text"],"mappings":"owBAIA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EAAO,IAAI,CAAC,CAAE,WAAAC,EAAY,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,cAAAC,CAAe,IAAK;AAAA;AAAA,sCAE1DA,CAAa;AAAA,oBAC/BN,CAAU,UAAUC,CAAI;AAAA;AAAA,kBAE1BC,CAAK;AAAA,kBACLC,CAAK;AAAA,qBACFC,CAAQ;AAAA,sBACPC,CAAS;AAAA;AAAA,GAE5B,EAAE,KAAK,EAAE,CACZ,CAEO,SAASE,GAAa,CAC3B,OAAO,UAAU,OAAO,QAAQ,EAChC,OAAO,MAAM,SAAW,QACxB,OAAO,MAAM,IAAM,MACnB,OAAO,MAAM,KAAO,MACpB,OAAO,MAAM,UAAY,wBACzB,OAAO,MAAM,OAAS,OACtB,OAAO,MAAM,gBAAkB,qBAC/B,OAAO,MAAM,QAAU,OACvB,OAAO,MAAM,aAAe,KAC9B,CAEO,SAASC,GAAa,CAC3B,OAAO,UAAU,IAAI,QAAQ,CAC/B,CAEA,IAAIC,EAAW,KAER,SAASC,GAAiB,CAC3BD,EACFA,EAAS,QAAS,EAElBA,EAAW,IAAIE,EAAe,aAAc,CAC1C,YAAa,MACb,aAAc,GACpB,CAAK,CAEL,CAEO,SAASC,GAAe,CAC7Bf,EAAQ,UAAY,EACtB,CC9CA,MAAMgB,EAAU,qCACVC,EAAW,2BAEXjB,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASkB,EAAiBC,EAAO,CACtCT,IACA,MAAMU,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,EACE,OAAOE,EACJ,IAAIJ,EAAU,CAAC,OAAAG,CAAM,CAAC,EACtB,KAAK,CAAC,CAAC,KAAAE,CAAI,IAAM,CAChB,GAAI,CAACA,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACxCC,EAAS,MAAM,CACb,MAAO,GACP,QAAS,2EACT,SAAU,WACV,QAAS,GACnB,CAAS,EACD,MACD,CAEDvB,EAAQ,mBAAmB,YAAaC,EAAcqB,EAAK,IAAI,CAAC,EAChET,EAAgB,CACtB,CAAK,EACA,MAAMW,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbb,EAAY,CAClB,CAAK,CACL,CCnCA,MAAMc,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,GAAK,SACZA,EAAO,UAAY,SACnB,SAAS,KAAK,YAAYA,CAAM,EAEhC,MAAMC,EAAe,SAAS,cAAc,OAAO,EACnDA,EAAa,YAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAwC3B,SAAS,KAAK,YAAYA,CAAY,EAEtC,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,aAAa,EAElDD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAkBH,EAAM,MAAM,KAAM,EAC1C,GAAI,CAACG,EAAiB,CACpB,MAAM,gBAAgB,EACtB,aACA,MACD,CACDhB,IACAa,EAAM,MAAQ,GACdV,EAAiBa,CAAe,CAClC"}