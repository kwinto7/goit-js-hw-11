{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst loaderStyles = document.createElement(\"style\");\nloaderStyles.textContent = `\n .loader {\n  color: #FFF;\n  display: inline-block;\n  position: relative;\n  font-size: 48px;\n  font-family: Arial, Helvetica, sans-serif;\n  box-sizing: border-box;\n}\n.loader::after {\n  content: '';  \n  width: 5px;\n  height: 5px;\n  background: currentColor;\n  position: absolute;\n  bottom: 10px;\n  right: -5px;\n  box-sizing: border-box;\n  animation: animloader 1s linear infinite;\n}\n.hidden {\ndisplay: none;\n}\n\n@keyframes animloader {\n  0% {\n    box-shadow: 10px 0 rgba(255, 255, 255, 0), 20px 0 rgba(255, 255, 255, 0);\n  }\n  50% {\n    box-shadow: 10px 0 white, 20px 0 rgba(255, 255, 255, 0);\n  }\n  100% {\n    box-shadow: 10px 0 white, 20px 0 white;\n  }\n}\n`;\ndocument.head.appendChild(loaderStyles);\n\nexport function createGallery(images) { \n  return images.map(({ previewURL, tags, likes, views, comments, downloads, largeImageURL }) => `\n    <li class=\"gallery-item\" style=\"border: 1px solid #808080\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-img\" src=\"${previewURL}\" alt=\"${tags}\" style=\"\n          width: 360px;\n          height: 200px;\n          object-fit: cover;\"/>\n      </a>\n      <div class=\"item-description-wrap\" \n        style=\"\n          display: flex; \n          justify-content: space-around; \n          font-size: 12px\">\n        <div class=\"description-item\" style=\"\">\n          <h3 class=\"item-title\">Likes</h3>\n          <p class=\"item-text\">${likes}</p>\n        </div>\n        <div class=\"description-item\">\n          <h3 class=\"item-title\">Views</h3>\n          <p class=\"item-text\">${views}</p>\n        </div>\n        <div class=\"description-item\">\n          <h3 class=\"item-title\">Comments</h3>\n          <p class=\"item-text\">${comments}</p>\n        </div>\n        <div class=\"description-item\">\n          <h3 class=\"item-title\">Downloads</h3>\n          <p class=\"item-text\">${downloads}</p>\n        </div>\n      </div>\n    </li>\n  `).join(\"\");\n}\n\nexport function showLoader() { \n  loader.classList.remove(\"hidden\");\n  loader.style.position = \"fixed\";\n  loader.style.top = \"50%\";\n  loader.style.left = \"50%\";\n  loader.style.transform = \"translate(-50%, -50%)\";\n  loader.style.zIndex = \"9999\";\n  loader.style.backgroundColor = \"rgba(0, 0, 0, 0.2)\";\n  loader.style.padding = \"20px\";\n  loader.style.borderRadius = \"50%\";\n}\n\nexport function hideLoader() { \n  loader.classList.add(\"hidden\");\n}\n\nlet lightbox = null;\n\nexport function updateLightBox() { \n  if (lightbox) {\n    lightbox.refresh()\n  } else { \n    lightbox = new SimpleLightbox(\".gallery a\", {\n      captionData: \"alt\",\n      captionDelay: 250,\n    });\n  }\n}\n\nexport function clearGallery() { \n  gallery.innerHTML = \"\";\n}\n\n","import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { showLoader, hideLoader, createGallery, updateLightBox } from \"./render-functions\";\n\nconst API_KEY = \"51435495-8626d86cd8f20f3f9ed789055\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nconst gallery = document.querySelector(\".gallery\");\n\nexport function getImagesByQuery(query) { \n  showLoader();\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\"\n  };\n  return axios\n    .get(BASE_URL, {params})\n    .then(({data}) => { \n      if (!data.hits || data.hits.length === 0) {\n        iziToast.error({\n          title: \"\",\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\",\n          timeout: 4000,\n          close: false,\n          maxWidth: 300,\n          messageColor: \"#fff\",\n          color: \"#e23232\"\n        });\n        return;\n      }\n      \n      gallery.insertAdjacentHTML(\"beforeend\", createGallery(data.hits))\n      updateLightBox()\n    })\n    .catch(error => { \n      console.log(error);\n    })\n    .finally(() => { \n      hideLoader()\n    })\n}\n","\n\nimport { getImagesByQuery } from \"./js/pixabay-api\"\nimport { clearGallery } from \"./js/render-functions\";\n\n\n\n\nconst body = document.querySelector(\"body\");\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\".form input\");\nconst button = document.querySelector(\".form button\");\nconst gallery = document.querySelector(\".gallery\");\n\n\n\nform.addEventListener(\"submit\", handleSubmit) \n\nfunction handleSubmit(event) { \n  event.preventDefault();\n  const input_user_text = input.value.trim()\n  if (!input_user_text) {\n    alert(\"Порожній запит\");\n    hideLoader();\n    return;\n  }\n  clearGallery();\n  input.value = \"\";\n  getImagesByQuery(input_user_text);\n}\n\n\nObject.assign(body.style, {\n  textAlign: \"center\",\n})\n\nObject.assign(form.style, {\n  marginTop: `${36}px`,\n  marginBottom: `${24}px`,\n  fontFamily: \"Montserrat, sans-serif\",\n})\n\nObject.assign(input.style, {\n  width: `${272}px`,\n  height: `${36}px`,\n  borderRadius: `${4}px`,\n  border: \"1px solid #808080\",\n  paddingLeft: `${16}px`,\n})\n\nObject.assign(button.style, {\n  width: `${91}px`,\n  height: `${40}px`,    \n  fontWeight: 500,\n  borderRadius: `${8}px`,\n  backgroundColor: \"#4e75ff\",\n  border: \"none\",\n  color: \"#fff\"\n})\n\nObject.assign(gallery.style, {\n  display: \"flex\",\n  flexWrap: \"wrap\",\n  gap: `${24}px`,\n  justifyContent: \"center\" \n})\n\n// Object.assign(galleryItem.style, {\n//   border: \"1px solid #808080\",\n// })\n\n\n"],"names":["gallery","loader","loaderStyles","createGallery","images","previewURL","tags","likes","views","comments","downloads","largeImageURL","showLoader","hideLoader","lightbox","updateLightBox","SimpleLightbox","clearGallery","API_KEY","BASE_URL","getImagesByQuery","query","params","axios","data","iziToast","error","body","form","input","button","handleSubmit","event","input_user_text"],"mappings":"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"}